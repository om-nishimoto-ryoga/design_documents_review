# テーブル定義書1
## 全体
- テーブルごとにシートを分けた方がすぐに任意のテーブルを確認できて見やすいです。
- テーブル名に空白が見られます。'_'でつなぎましょう。
- テーブル名に大文字が含まれています。命名規則として、小文字,スネークケースが適切です。

## Admin & Labels & Artists & Genre & Cart item
- PKが設定されていない
  > 各テーブルに1つ以上のPKは必須です。PKを指定しましょう。

## Users
- 退会ステータスがstring型になっている
  > 選択肢が二択の場合はboolean型を使用しましょう。
- member_statusだとfalseの状態がわからない
  > 退会しているかどうかという二択の場合"is_xxx"のような命名をしましょう。

## Products
- FKが設定されていない
  > ジャンルidなど親子関係になっているキーには外部キーを設定しましょう。
- 不要なidがある
  > 外部キーとして必要なものは親テーブルのidのみです。子テーブルのidも含まれているので削除しましょう。
- 在庫ステータスがstring型になっている
  > stringでステータス管理をするのはヒューマンエラーやデータ量などの観点で避けるべきです。(例えば、売り切れと売切は別のステータスになります。)選択肢は数字で管理し、数字と表示を紐付けるようにしましょう。
  
## Songs & Artists & Genre
- 曲名、ジャンル名、アーティスト名がinteger型になっている
  > 現状だと曲名が数字でのみ登録可能になっています。適切なデータ型に変更しましょう。

## Labels & Artists & Genre
- 不要なidがある
  > 外部キーとして必要なものは親テーブルのidのみです。子テーブルのidも含まれているので削除しましょう。

## Cart item
- 商品idのデータ型が設定されていない
  > 商品idに適切なデータ型を設定しましょう

## Buy details
- 商品に関する情報がない
  >  現状、商品に関するデータがないので、どの商品をいくらで買ったかが確認できません。商品情報を保存するカラムを追加しましょう。

## Buy
- 支払い方法がstring型になっている
  > stringでステータス管理をするのはヒューマンエラーやデータ量などの観点で避けるべきです。(例えば、現金払いと現金は別のステータスになります。)選択肢は数字で管理し、数字と表示を紐付けるようにしましょう。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# 研修担当レビュー
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- たとえ同じ指摘項目であっても、テーブルごとに分けて記載しましょう。
- テーブル名の命名規則に即していないものがまだあります。
  - 小文字複数形スネークケースですね。
- カラム名にそのテーブル名に相当する接頭辞は不要です。(usersテーブルのuser_telなど)
  - 例えばusersテーブルなら、"ユーザの"何々というのは自明だからです。
  - 勿論別テーブルの情報なら必要です。FKが代表例ですね。
- カラム名に省略形はつかうべきではありません。
- created_at,updated_atの説明は適切でしょうか。
- PK名が不適当です。
  - 全てidになります。
  
## Users
- テーブル名が不適当です。
  - 今回ECサイトを使うユーザ、管理者側を使うユーザ、の２通りのユーザがいるので、「顧客」「エンドユーザ」など混乱しないような命名にしましょう。
  - データベースの情報は管理者が利用します。管理者側から見た呼び方にしておきましょう。
- 郵便番号、電話番号について、データ型は適切でしょうか。
  - 0から始まることを考えてみましょう。
- 配送先を複数登録したい場合、今の設計で問題ありませんか。

## Products
- 在庫ステータスについて指摘して下さっていますが、こちら本当に必要でしょうか。
- 在庫数は他から算出できませんでしょうか。
  - 注文の総計は特例(売上証拠として残す目的)ですが、基本他で参照・算出できるカラムは不要になります。

## Discs
- 商品idのカラム名は適切でしょうか。
- トラックナンバーの用途に誤りはありませんでしょうか。

## Songs
- 曲名カラムのカラム名が不適当です。
  - @song.songとして、これが曲名とはわかりづらいです。

## Labels
- 曲名同様、レーベルカラムのカラム名、カラム説明が不適当です。

## Artists
- 曲名同様、アーティスト名カラムのカラム名が不適当です。

## Genres
- 曲名同様、ジャンル名カラムのカラム名が不適当です。

## Cart item
- 商品idのカラム名は適切でしょうか。
- カラム名にスペースはNGです。
- 小計金額は他から算出できませんでしょうか。

## Buy
- テーブル名が管理者視点になっていません。
- buy_detailsとのリレーションは正しいでしょうか。
- 支払い方法のカラム名が不適当です。
- 支払い合計のカラム名が不適当です。
- 購入日は他で参照できませんでしょうか。

## Buy details
- テーブル名が管理者視点になっていません。
- 購入枚数のカラム名が不適当です。
