# テーブル定義書1(問題抽出)
## 全体
- テーブルごとにシートが分かれていない
- テーブル名の命名規則が不適切
    - 小文字複数形スネークケースで命名
- カラム名にそのテーブル名に相当する接頭辞は不要
    - usersテーブルのuser_telなど
- カラム名に省略形を使用すべきではない
    - user_l_nameなど
- created_atとupdated_atのカラム名が不適切
    - 全てそれぞれユーザ登録日時とユーザ更新日時になっている
- PK(id)がないテーブルが存在する
- 入荷と配送先テーブルがない
    - 入荷は商品の入荷を管理するため
    - 配送先は複数データを保存するため
        - 宛先を追加

## Admin
- テーブル名が単数になっている

## Users
- テーブル名が不適切
    - どのユーザーかわからない
- カラム名にテーブル名の接頭辞がある
- カラム名に略語がある
- 郵便番号と郵便番号がinteger型
- member_statusだとfalseの状態が何を示すかわからない
- member_statusがstring型

## Products
- カラム名にテーブル名の接頭辞がある
- FKが設定されていない
- 不要なidがある
- cd_titleのcdは不要
- 在庫ステータスと在庫数は不要
    - 在庫ステータスは在庫数から判別して表示する
    - 在庫数は入荷テーブルと受注詳細テーブルから算出可能

## Discs
- カラム名にテーブル名の接頭辞がある
- products_idではなく、product_id
- トラックNo.は不要
    - ディスク順管理は要件対象外

## Songs
- songカラムの命名が不適切
    - songが曲名だと分かりづらい
- songカラムがinteger型
- 曲順を管理するカラムがない

## Labels
- product_idは不要
- labelカラムの命名が不適切
    - labelがレーベル名だと分かりづらい

## Artists
- product_idは不要
- artistカラムの命名が不適切
    - artistがアーティスト名だと分かりづらい
- artistカラムがinteger型

## Genre
- テーブル名が単数になっている
- product_idは不要
- genreカラムの命名が不適切
    - genreがジャンル名だと分かりづらい
- genreカラムがinteger型

## Cart item
- products_idではなく、product_id
- buy numが不適切
    - カラム名に空欄がある
    - 購入枚数は数量を表す名称にすべき
- 小計金額は不要
    - 各商品価格から算出可能

## Buy
- テーブル名が不適切
    - 管理者目線でテーブル名は命名する
- Buy detailsとのリレーションが逆
- payカラムの命名が不適切
    - 支払い方法だとわからない
- 支払い方法がstring型
- 支払合計カラムの命名が不適切
    - stockは合計金額の意味ではない
- 郵便番号と宛名がない
- 購入日は不要
    - このテーブルのレコード作成日が購入日
- 配送状況カラムがない

## Buy details
- テーブル名が不適切
    - 管理者目線でテーブル名は命名する
- buy numが不適切
    - カラム名に空欄がある
    - 購入枚数は数量を表す名称にすべき
- FKに商品idがない

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# 研修担当レビュー
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- たとえ同じ指摘項目であっても、テーブルごとに分けて記載しましょう。
- テーブル名の命名規則に即していないものがまだあります。
  - 小文字複数形スネークケースですね。
- カラム名にそのテーブル名に相当する接頭辞は不要です。(usersテーブルのuser_telなど)
  - 例えばusersテーブルなら、"ユーザの"何々というのは自明だからです。
  - 勿論別テーブルの情報なら必要です。FKが代表例ですね。
- カラム名に省略形はつかうべきではありません。
- created_at,updated_atの説明は適切でしょうか。
- PK名が不適当です。
  - 全てidになります。
  
## Users
- テーブル名が不適当です。
  - 今回ECサイトを使うユーザ、管理者側を使うユーザ、の２通りのユーザがいるので、「顧客」「エンドユーザ」など混乱しないような命名にしましょう。
  - データベースの情報は管理者が利用します。管理者側から見た呼び方にしておきましょう。
- 郵便番号、電話番号について、データ型は適切でしょうか。
  - 0から始まることを考えてみましょう。
- 配送先を複数登録したい場合、今の設計で問題ありませんか。

## Products
- 在庫ステータスについて指摘して下さっていますが、こちら本当に必要でしょうか。
- 在庫数は他から算出できませんでしょうか。
  - 注文の総計は特例(売上証拠として残す目的)ですが、基本他で参照・算出できるカラムは不要になります。

## Discs
- 商品idのカラム名は適切でしょうか。
- トラックナンバーの用途に誤りはありませんでしょうか。

## Songs
- 曲名カラムのカラム名が不適当です。
  - @song.songとして、これが曲名とはわかりづらいです。

## Labels
- 曲名同様、レーベルカラムのカラム名、カラム説明が不適当です。

## Artists
- 曲名同様、アーティスト名カラムのカラム名が不適当です。

## Genres
- 曲名同様、ジャンル名カラムのカラム名が不適当です。

## Cart item
- 商品idのカラム名は適切でしょうか。
- カラム名にスペースはNGです。
- 小計金額は他から算出できませんでしょうか。

## Buy
- テーブル名が管理者視点になっていません。
- buy_detailsとのリレーションは正しいでしょうか。
- 支払い方法のカラム名が不適当です。
- 支払い合計のカラム名が不適当です。
- 購入日は他で参照できませんでしょうか。

## Buy details
- テーブル名が管理者視点になっていません。
- 購入枚数のカラム名が不適当です。


# 研修担当レビュー
- **合格になります**が、以下ご確認ください。

## Discs
> ディスク順管理は要件対象外
- ディスク順要るようです。
