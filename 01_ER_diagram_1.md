# ER図1(問題抽出)
## 全体
- カーディナリティに不足がある
    - 1以上か0以上か
- railsで自動生成されるカラムが含まれていない
- 受注商品と入荷、配送先のテーブルがない
    - 受注商品は受注した商品を確認するため
    - 入荷は商品の入荷を管理するため
    - 配送先は複数データを保存するため
        - 郵便番号や宛先を追加

## 管理人
- 管理人がFKとして商品やユーザーと紐付いている

## エンドユーザ
- 論理削除が考慮されていない

## 商品
- ディスクが複数枚ある状況を考慮できていない
- ステータスのカラム名が不適切
    - カッコ書きで書いているが、具体的な名称にするべき
- 在庫数は不要
    - 入荷テーブルと受注商品テーブルから算出可能
- 論理削除が考慮されていない
- アーティスト名やジャンル、レーベル名は別途テーブルを作成するべき
    - 上記カラム情報に変更があった際にすべての商品の情報を修正しないといけない

## カート
- リレーションが間違っている
    - ユーザーではなく、決済と紐付いている
- 合計金額は不要
    - 各商品価格から算出可能
- テーブル名が不適切
    - 正確にはカートない商品のデータが入っている
- PK名とテーブル名が一致していない
- FKから取得できる情報はカラムとして不要

## 決済
- テーブル名が不適切
    - 決済情報以外の購入にまつわる情報もほしい
- 送料、合計金額カラムがない
- 購入日は不要
    - このテーブルのレコード作成日が購入日

## 購入履歴
- テーブル名が不適切
    - 管理者目線でテーブル名は命名する

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# 研修担当レビュー
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- Railsで自動生成されるカラムが必要です。
  - id, created_at, updated_at
- どの商品を購入したか、今の設計でわかりますでしょうか。
- 商品の入荷はどのように管理しますでしょうか。
- 配送先を複数登録することを考慮していません。
- 送料はどこに情報をもちますでしょうか。
  - 厳密にいえば税率も要りますが、こちら今回は指摘不要です。

## エンドユーザ
- 論理削除が考慮されていません。

## 商品
- 直打ちで入力してまずいカラムはありませんでしょうか。
- ディスクが複数枚ある場合が考慮されておりません。
- ステータスには具体的にどのような値がはいりますでしょうか。
- 在庫数は他の情報から算出できないでしょうか。

## カート
- テーブル名が不適切です。実際の役割と異なります。
  - 商品をたくさんいれた大枠がカートなので。1商品1カートというのはおかしいです。
- PK名とテーブル名が一致しておりません。
- 合計金額は他の情報から算出できないでしょうか。
- 商品idを持つことにより、ここから参照できるカラムはありませんでしょうか。

## 決済
- テーブル名が不適切です。実際の役割と異なります。
  - 決済はただお金を払う行為です。
- 購入日は他の情報で参照できませんでしょうか。
- 送付先の情報は十分でしょうか。
- 合計金額を保存するカラムが必要です。
  - テーブル定義書1で述べた通り、これに関しては特例で必要です。
    - (※他レビュワーへ)先にテーブル定義書1のレビューをしています。
