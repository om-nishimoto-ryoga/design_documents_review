# ER図1
## 全体
- カーディナリティに不足があります。1:多の1の方に1もしくは0を追加しましょう

## 管理人
- 管理人がFKとして商品やユーザーと紐付いている
  >  管理人が商品やユーザーに紐づく理由は何でしょうか？もし理由がなければ独立させましょう。

## カート
- ユーザーではなく、決済と紐付いている
  >  現状、カートの機能を果たしていません。1回の注文で1つの商品しか購入できない状況です。カートは誰がどの商品をかごに入れているかという事象を再現するための機能です。カートでなにがしたいかを考えて、リレーションやカラムを再度検討しましょう。

## 決済 & 購入履歴
- 決済と購入履歴が別れている
  >  購入履歴の考え方は、注文があったら注文書を発行し、そこに注文した商品の詳細が書かれているイメージです。また、決済情報や配送先などは注文書1枚に対して、1つの情報で十分です。現状だと、注文書があり、そこに決済情報が商品ごとに記載されている状況です。購入履歴の考え方を元に、テーブルやリレーション、カラムを構築し直してみてください。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# 研修担当レビュー
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- Railsで自動生成されるカラムが必要です。
  - id, created_at, updated_at
- どの商品を購入したか、今の設計でわかりますでしょうか。
- 商品の入荷はどのように管理しますでしょうか。
- 配送先を複数登録することを考慮していません。
- 送料はどこに情報をもちますでしょうか。
  - 厳密にいえば税率も要りますが、こちら今回は指摘不要です。

## エンドユーザ
- 論理削除が考慮されていません。

## 商品
- 直打ちで入力してまずいカラムはありませんでしょうか。
- ディスクが複数枚ある場合が考慮されておりません。
- ステータスには具体的にどのような値がはいりますでしょうか。
- 在庫数は他の情報から算出できないでしょうか。

## カート
- テーブル名が不適切です。実際の役割と異なります。
  - 商品をたくさんいれた大枠がカートなので。1商品1カートというのはおかしいです。
- PK名とテーブル名が一致しておりません。
- 合計金額は他の情報から算出できないでしょうか。
- 商品idを持つことにより、ここから参照できるカラムはありませんでしょうか。

## 決済
- テーブル名が不適切です。実際の役割と異なります。
  - 決済はただお金を払う行為です。
- 購入日は他の情報で参照できませんでしょうか。
- 送付先の情報は十分でしょうか。
- 合計金額を保存するカラムが必要です。
  - テーブル定義書1で述べた通り、これに関しては特例で必要です。
    - (※他レビュワーへ)先にテーブル定義書1のレビューをしています。
