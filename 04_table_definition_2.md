# テーブル定義書2
## 全体
- テーブルごとにシートを分けた方がすぐに任意のテーブルを確認できて見やすいです。
- テーブル名やカラム名に空白が見られます。'_'でつなぎましょう。
- カラム名に大文字が見られます。命名規則は小文字やスネークネームが一般的です。

## users
- 郵便番号、電話番号がstring型になっている
  >  数字の全角半角が混じったりして、データを扱いにくくなるのでstring型は避けるべきです。データ型と備考を見直してみてください。
- membaer_statusのデフォルトがfalseになっている
  >  enumで管理する場合、デフォルトは数字でなければなりません。デフォルト値を見直しましょう。

## ships
- 配送先郵便番号、配送先電話番号がstring型になっている
  >  数字の全角半角が混じったりして、データを扱いにくくなるのでstring型は避けるべきです。データ型と備考を見直してみてください。

## products
- stock_statusのデフォルト値が設定されていない
  >  在庫ステータスのデフォルト値を設定しましょう。

## songs
- トラックナンバーのデフォルト値とAUTO INCREMENが設定されていない
  >  曲を登録したときにトラックナンバーを1つ1つ数字を登録するのは面倒ではないですか？必要であれば、デフォルト値とAUTO INCREMENtを設定することで解消できます。
  
## cart items
- buy numのデフォルト値が設定されていない
  >  カート追加時点で0枚というのはありえないので、デフォルト値を設定しましょう。

## sell_details
- 商品idで情報をひっぱろうとしている
  >  商品idで情報を保存すると、受注後に商品テーブルで変更された内容が反映されてしまいます。これでは正確な購入情報とは言えません。商品の情報をidではない方法で保存するやり方を検討しましょう。

## sells
- 支払い方法にデフォルト値が設定されていない
  >  enumで管理する場合、ユーザーが選択しやすいようにデフォルト値を設定しましょう。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# 研修担当レビュー
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- テーブル定義書1のレビューに共通する箇所も多いので、一度そちらが出来てから見直してみましょう。
- シートについては指摘不要です。
- "郵便番号、電話番号がstring型"の指摘について
  - integerだと0から始まった場合消えてしまうため、逆に**stringでないとダメです。**
    - 全角半角については、細かくやるなら正規表現を使いましょう。
- enumについてはとり得る値を備考欄に書いていただくようにしましょう。

## users
- member_statusは(誤字はさておき)色々と問題があります。
  - カラム名が不適当です。(値がわかりづらい)
  - データ型とDEFAULT値が不一致していません。
    - 更に言えばenumはデータ型ではありません。
  - 上述の通り、enumを使うなら備考欄に取り得る値を書きましょう。
> 退会してるか否かなのでboolean型のis_deletedカラムが分かりやすいと思いますが...

## sell_details
- 商品idは要る。購入時価格を保存するカラムがないだけ。
  - 商品idがないと、例えば...
    - 画像とか商品名とかもカラム必要になる。(厳密に言えばこれも確かに要る気はするけど)
    - 注文履歴詳細に注文した商品の詳細ページへのリンクをはりにくい。
    - 何が売れているのかパッと分かりにくい。(@item.sell_details.countとかprice_num(要メソッド)とかでわかるよね)
  - など。

## sells
- 支払い方法のDEFAULT値はフォームで初期選択させればいいのでなくても良い。
