# ER図2(問題抽出)
## 全体
- カーディナリティに不足がある
    - 1以上か0以上か
> 1:多を表すカーディナリティを見直してみましょう。1対0以上なのか1対1以上なのかは実は重要です。
- 入荷と配送先テーブルがない
    - 入荷は商品の入荷を管理するため
    - 配送先は複数データを保存するため
        - 郵便番号や宛先を追加
> 下記の要件を満たすテーブルをご検討ください。
> - ユーザーが配送先を複数登録できる
>   - 郵便番号や宛先も必要
> - 商品の入荷を管理できる（入荷日時、入荷商品、入荷個数）

## 管理者
- 管理人がFKとして商品やユーザーと紐付いている
> 管理人テーブルと商品、ユーザーテーブルが紐づく理由は何でしょうか？

## エンドユーザ
- 名カラムがない
> 名を漢字で入力するカラムがありませんので、追加しましょう。
- PK名とテーブル名が異なる
> PKがユーザーIDになっています。

## カートアイテム
- PKがない
> PKがありません。
- 小計は不要
    - 各商品価格から算出可能
> 基本的に他の情報から算出できる情報はカラムを作成する必要はありません。小計に関しては購入時の商品価格と購入枚数で算出できます。

## 購入
- テーブル名が不適切
    - 管理者目線でテーブル名は命名する
> テーブル名は、「受注」「注文」のような管理者目線で命名しましょう。
- 購入日は不要
    - このテーブルのレコード作成日が購入日
> railsで自動作成される登録日では代用できないでしょうか？もし代用できる場合役割が重複するカラムは不要です。
- 配送状況カラムがない
> 商品の配送状況はどこで確認できますか？

## 購入詳細
- テーブル名が不適切
    - 管理者目線でテーブル名は命名する
> テーブル名は、「受注」「注文」のような管理者目線で命名しましょう。
- 購入とのリレーションが逆
> 現状だと購入詳細に購入が紐づく形になっています。この関係は適切でしょうか？
- 購入時の価格を保存するカラムがない
> 購入時の商品価格は確認できますか？
- FKに商品idがない
> どの商品を購入したかを確認できますか？

## ジャンル
- ジャンルというカラム名が不適切
> ジャンルだと何の情報か分かりづらいので、カラム名を「ジャンル名」としましょう。

## レーベル
- レーベルというカラム名が不適切
> レーベルだと何の情報か分かりづらいので、カラム名を「レーベル名」としましょう。

## 商品
- ディスクidがFKになっている
- 発売日がない
> 発売日はどのように管理しますか？
- ディスク枚数と在庫数が不要
    - ディスク枚数はディスクテーブルから算出可能
    - 在庫数は入荷テーブルと受注詳細テーブルから算出可能
> 基本的に他の情報から算出できる情報はカラムを作成する必要はありません。ディスク枚数カラムがありますが、ディスクテーブルのデータから算出可能です。
> また在庫数カラムがありますが、商品を入荷するごとに修正しますか？商品を入荷した時点で自動更新する仕組みを検討してみましょう。
- ステータスのカラム名が不適切
    - カッコ書きで書いているが、具体的な名称にするべき
> ステータス(取り扱い)は、具体的に何の取り扱いステータスでしょうか？

## ディスク
- 商品とのリレーションが逆
> 現状だとディスクに商品が紐づく形になっています。この関係は適切でしょうか？

## 曲
- ディスクとのリレーションが逆
> 現状だと曲名にディスクが紐づく形になっています。この関係は適切でしょうか？
- 曲順を管理するカラムがない
> 曲順はどのように管理しますか？

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# 研修担当レビュー
- **合格です！**
